<div class="w-3/4 mx-auto my-5">
    <h4 class="text-3xl py-2">Forget Password :</h4>
    @if (errMessage) {
        <h3 class="alert alert-danger">{{errMessage}}</h3>

}
    @if(!isCodeForm && ! isNewPassword){
        <form [formGroup]="emailForm" (ngSubmit)="verifyBtn()">
      
            <div class="my-3">
                <label for="email">email : </label>
                <input id="email" formControlName="email" type="text" class="w-full p-2 rounded ">
                     
            </div>
            @if (emailForm.get('email')?.errors && emailForm.get('email')?.touched) {
                <div class="alert">
                    @if (emailForm.get('email')?.errors?.['required']) {
                        <p>Email is Required</p>
    
                    }
                    @else if (emailForm.get('email')?.errors?.['email']) {
                                               <p>Enter valid email</p>
    
                    }
                 
        </div>
    }
      <div class="flex justify-end gap-2 pt-2"> 
        <button [disabled]="emailForm.invalid" type="submit" class="py-2 px-3 rounded cursor-pointer bg-main text-white ">Verify 
            @if (isLoading) {
                <i class="fa-solid fa-spinner fa-spin"></i>
            }
        </button>
       </div>
        </form>
    }
  
@if(isCodeForm){
     <form [formGroup]="codeForm" (ngSubmit)="codeBtn()">
      
        <div class="my-3">
            <label for="code">code : </label>
            <input id="code" formControlName="resetCode" type="text" class="w-full p-2 rounded ">
                 
        </div>
        @if (codeForm.get('resetCode')?.errors && codeForm.get('resetCode')?.touched) {
            <div class="alert">
                @if (codeForm.get('resetCode')?.errors?.['required']) {
                    <p>resetCode is Required</p>

                }
               
            </div>
        }
  <div class="flex justify-end gap-2 pt-2"> 
    <button [disabled]="codeForm.invalid" type="submit" class="py-2 px-3 rounded cursor-pointer bg-main text-white ">Code 
        @if (isLoading) {
            <i class="fa-solid fa-spinner fa-spin"></i>
        }
    </button>   </div>
    </form>
}
   
@if (isNewPassword) {
 <form [formGroup]="resetPassForm" (ngSubmit)="newPassBtn()">
      
        <div class="my-3">
            <label for="email">email : </label>
            <input id="email" formControlName="email" type="text" class="w-full p-2 rounded ">
                 
        </div>
        @if (resetPassForm.get('email')?.errors && resetPassForm.get('email')?.touched) {
            <div class="alert">
                @if (resetPassForm.get('email')?.errors?.['required']) {
                    <p>Email is Required</p>

                }
                @else if (resetPassForm.get('email')?.errors?.['email']) {
                                           <p>Enter valid email</p>

                }
             
    </div>
}
        <div class="my-3">
            <label for="Password">password : </label>
            <input id="password" formControlName="newPassword" type="text" class="w-full p-2 rounded ">
                 
        </div>
        @if (resetPassForm.get('newPassword')?.errors && resetPassForm.get('newPassword')?.touched) {
            <div class="alert">
                @if (resetPassForm.get('newPassword')?.errors?.['required']) {
                    <p>newPassword is Required</p>

                }
                @else if (resetPassForm.get('newPassword')?.errors?.['pattern']) {
                                           <p>Enter valid newPassword</p>

                }
             
    </div>
}
  <div class="flex justify-end gap-2 pt-2"> 
    <button [disabled]="resetPassForm.invalid" type="submit" class="py-2 px-3 rounded cursor-pointer bg-main text-white ">New Password 
        @if (isLoading) {
            <i class="fa-solid fa-spinner fa-spin"></i>
        }
    </button>   </div>
    </form>
}
   
</div>